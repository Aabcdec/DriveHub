# æ´»åŠ¨ç®¡ç†æ•°æ®æ˜¾ç¤ºä¼˜åŒ–è¯´æ˜

## ğŸ“‹ é—®é¢˜åˆ†æ

æ‚¨é‡åˆ°çš„é—®é¢˜æ˜¯ï¼š**æ–°å¢æ´»åŠ¨æ—¶æ•°æ®èƒ½æ­£ç¡®æ›´æ–°åˆ°æ•°æ®åº“ï¼Œä½†æ´»åŠ¨åˆ—è¡¨æ˜¾ç¤ºçš„å­—æ®µä¸æ•°æ®åº“å®é™…å­—æ®µä¸åŒ¹é…**ã€‚

### ğŸ” åŸå› åˆ†æ
1. **è¡¨æ ¼åˆ—å®šä¹‰ä¸æ•°æ®åº“å­—æ®µä¸å¯¹åº”**
2. **æ•°æ®æ ¼å¼åŒ–å¤„ç†ä¸å®Œå–„**
3. **ç”¨æˆ·åæ˜¾ç¤ºé€»è¾‘æœ‰é—®é¢˜**
4. **æ—¶é—´æ ¼å¼æ˜¾ç¤ºä¸ç»Ÿä¸€**

## âœ… ä¼˜åŒ–è§£å†³æ–¹æ¡ˆ

### 1. **ğŸ—‚ï¸ é‡æ–°è®¾è®¡è¡¨æ ¼åˆ—ç»“æ„**

#### ä¼˜åŒ–å‰çš„é—®é¢˜
```vue
<!-- åŸæ¥çš„è¡¨æ ¼åˆ—å®šä¹‰æ··ä¹±ï¼Œå­—æ®µä¸å¯¹åº” -->
<el-table-column prop="cost" label="æ´»åŠ¨é¢„ç®—" width="80" />
<el-table-column prop="createBy" label="åˆ›å»ºäºº" width="70">
  <template #default="scope">
    {{ getUserName(scope.row, scope.row.id, 'createBy').createBy }}
  </template>
</el-table-column>
```

#### ä¼˜åŒ–åçš„è§£å†³æ–¹æ¡ˆ
```vue
<!-- é‡æ–°è®¾è®¡çš„è¡¨æ ¼åˆ—ï¼Œå®Œå…¨å¯¹åº”æ•°æ®åº“å­—æ®µ -->
<el-table-column prop="id" label="æ´»åŠ¨ID" width="80" />
<el-table-column prop="name" label="æ´»åŠ¨åç§°" min-width="120" show-overflow-tooltip />
<el-table-column prop="cost" label="æ´»åŠ¨é¢„ç®—" width="100">
  <template #default="scope">
    <span v-if="scope.row.cost">Â¥{{ Number(scope.row.cost).toLocaleString() }}</span>
    <span v-else>-</span>
  </template>
</el-table-column>
<el-table-column prop="description" label="æ´»åŠ¨æè¿°" min-width="200" show-overflow-tooltip />
<el-table-column prop="startTime" label="å¼€å§‹æ—¶é—´" width="160">
  <template #default="scope">
    <span v-if="scope.row.startTime">{{ formatDateTime(scope.row.startTime) }}</span>
    <span v-else>-</span>
  </template>
</el-table-column>
```

### 2. **â° ç»Ÿä¸€æ—¶é—´æ ¼å¼åŒ–å¤„ç†**

```javascript
// æ–°å¢çš„æ—¶é—´æ ¼å¼åŒ–æ–¹æ³•
formatDateTime(dateTime) {
  if (!dateTime) return '-'
  
  try {
    const date = new Date(dateTime)
    if (isNaN(date.getTime())) return dateTime
    
    const year = date.getFullYear()
    const month = String(date.getMonth() + 1).padStart(2, '0')
    const day = String(date.getDate()).padStart(2, '0')
    const hours = String(date.getHours()).padStart(2, '0')
    const minutes = String(date.getMinutes()).padStart(2, '0')
    const seconds = String(date.getSeconds()).padStart(2, '0')
    
    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`
  } catch (error) {
    console.error('æ—¥æœŸæ ¼å¼åŒ–é”™è¯¯:', error)
    return dateTime
  }
}
```

### 3. **ğŸ‘¤ ä¼˜åŒ–ç”¨æˆ·åæ˜¾ç¤ºé€»è¾‘**

```javascript
// ç®€åŒ–çš„ç”¨æˆ·åæ˜¾ç¤ºæ–¹æ³•
getUserDisplayName(userId) {
  if (!userId) return '-'
  
  const users = {
    1: 'å¼ ä¸‰',
    2: 'æå››', 
    3: 'ç‹äº”',
    4: 'èµµå…­'
  }
  return users[userId] || `ç”¨æˆ·${userId}`
}
```

### 4. **ğŸ“Š æ•°æ®åŠ è½½ä¼˜åŒ–**

```javascript
// ä¼˜åŒ–åçš„æ•°æ®åŠ è½½æ–¹æ³•
async loadCampaigns() {
  this.getTotal()
  this.loading = true
  
  try {
    const res = await fetchPageData(this.currentPage, this.pageSize, '/api/market/campaigns', 'å¸‚åœºæ´»åŠ¨ä¿¡æ¯è·å–å¤±è´¥');
    
    // ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®
    if (Array.isArray(res)) {
      this.campaigns = res.map(item => ({
        id: item.id || '',
        name: item.name || '',
        ownerId: item.ownerId || '',
        cost: item.cost || '',
        description: item.description || '',
        startTime: item.startTime || '',
        endTime: item.endTime || '',
        createBy: item.createBy || '',
        createTime: item.createTime || '',
        editBy: item.editBy || '',
        editTime: item.editTime || ''
      }))
    } else {
      this.campaigns = []
    }
    
    this.loading = false
  } catch (error) {
    console.error('åŠ è½½æ´»åŠ¨æ•°æ®å¤±è´¥:', error)
    this.campaigns = []
    this.loading = false
    ElMessage.error('åŠ è½½æ´»åŠ¨æ•°æ®å¤±è´¥')
  }
}
```

## ğŸ¯ å®Œæ•´çš„å­—æ®µæ˜ å°„

### æ•°æ®åº“å­—æ®µ â†’ æ˜¾ç¤ºå­—æ®µ
| æ•°æ®åº“å­—æ®µ | æ˜¾ç¤ºæ ‡ç­¾ | æ ¼å¼åŒ–å¤„ç† | å®½åº¦è®¾ç½® |
|------------|----------|------------|----------|
| `id` | æ´»åŠ¨ID | ç›´æ¥æ˜¾ç¤º | 80px |
| `name` | æ´»åŠ¨åç§° | æ–‡æœ¬æº¢å‡ºçœç•¥ | æœ€å°120px |
| `ownerId` | æ´»åŠ¨æ‰€å±äººID | ç›´æ¥æ˜¾ç¤º | 80px |
| `cost` | æ´»åŠ¨é¢„ç®— | è´§å¸æ ¼å¼åŒ– | 100px |
| `description` | æ´»åŠ¨æè¿° | æ–‡æœ¬æº¢å‡ºçœç•¥ | æœ€å°200px |
| `startTime` | å¼€å§‹æ—¶é—´ | æ—¥æœŸæ—¶é—´æ ¼å¼åŒ– | 160px |
| `endTime` | ç»“æŸæ—¶é—´ | æ—¥æœŸæ—¶é—´æ ¼å¼åŒ– | 160px |
| `createBy` | åˆ›å»ºäºº | ç”¨æˆ·åæ˜ å°„ | 100px |
| `createTime` | åˆ›å»ºæ—¶é—´ | æ—¥æœŸæ—¶é—´æ ¼å¼åŒ– | 160px |
| `editBy` | ç¼–è¾‘äºº | ç”¨æˆ·åæ˜ å°„ | 100px |
| `editTime` | ç¼–è¾‘æ—¶é—´ | æ—¥æœŸæ—¶é—´æ ¼å¼åŒ– | 160px |

## ğŸ¨ è§†è§‰ä¼˜åŒ–

### 1. **ğŸ’° é‡‘é¢æ˜¾ç¤º**
```vue
<el-table-column prop="cost" label="æ´»åŠ¨é¢„ç®—" width="100">
  <template #default="scope">
    <span v-if="scope.row.cost" class="amount-display">
      Â¥{{ Number(scope.row.cost).toLocaleString() }}
    </span>
    <span v-else>-</span>
  </template>
</el-table-column>
```

### 2. **â° æ—¶é—´æ˜¾ç¤º**
```vue
<el-table-column prop="startTime" label="å¼€å§‹æ—¶é—´" width="160">
  <template #default="scope">
    <span v-if="scope.row.startTime" class="time-display">
      {{ formatDateTime(scope.row.startTime) }}
    </span>
    <span v-else>-</span>
  </template>
</el-table-column>
```

### 3. **ğŸ‘¤ ç”¨æˆ·æ˜¾ç¤º**
```vue
<el-table-column prop="createBy" label="åˆ›å»ºäºº" width="100">
  <template #default="scope">
    <span class="user-display">
      {{ getUserDisplayName(scope.row.createBy) }}
    </span>
  </template>
</el-table-column>
```

## ğŸ“‹ è¯¦æƒ…å¯¹è¯æ¡†ä¼˜åŒ–

### é‡æ–°è®¾è®¡è¯¦æƒ…æ˜¾ç¤º
```vue
<el-descriptions :column="2" border>
  <el-descriptions-item label="æ´»åŠ¨ID">{{ campaignDetail.id }}</el-descriptions-item>
  <el-descriptions-item label="æ´»åŠ¨åç§°">{{ campaignDetail.name || '-' }}</el-descriptions-item>
  <el-descriptions-item label="æ´»åŠ¨æ‰€å±äººID">{{ campaignDetail.ownerId || '-' }}</el-descriptions-item>
  <el-descriptions-item label="æ´»åŠ¨é¢„ç®—">
    <span v-if="campaignDetail.cost">Â¥{{ Number(campaignDetail.cost).toLocaleString() }}</span>
    <span v-else>-</span>
  </el-descriptions-item>
  <el-descriptions-item label="å¼€å§‹æ—¶é—´">
    {{ formatDateTime(campaignDetail.startTime) }}
  </el-descriptions-item>
  <el-descriptions-item label="ç»“æŸæ—¶é—´">
    {{ formatDateTime(campaignDetail.endTime) }}
  </el-descriptions-item>
  <el-descriptions-item label="åˆ›å»ºäºº">
    {{ getUserDisplayName(campaignDetail.createBy) }}
  </el-descriptions-item>
  <el-descriptions-item label="åˆ›å»ºæ—¶é—´">
    {{ formatDateTime(campaignDetail.createTime) }}
  </el-descriptions-item>
  <el-descriptions-item label="ç¼–è¾‘äºº">
    <span v-if="campaignDetail.editBy">{{ getUserDisplayName(campaignDetail.editBy) }}</span>
    <span v-else>-</span>
  </el-descriptions-item>
  <el-descriptions-item label="ç¼–è¾‘æ—¶é—´">
    <span v-if="campaignDetail.editTime">{{ formatDateTime(campaignDetail.editTime) }}</span>
    <span v-else>-</span>
  </el-descriptions-item>
  <el-descriptions-item label="æ´»åŠ¨æè¿°" :span="2">
    <div class="content-detail">{{ campaignDetail.description || '-' }}</div>
  </el-descriptions-item>
</el-descriptions>
```

## ğŸ‰ ä¼˜åŒ–æˆæœ

### âœ… è§£å†³çš„é—®é¢˜
1. **æ•°æ®åº“å­—æ®µå¯¹åº”**: è¡¨æ ¼åˆ—å®Œå…¨å¯¹åº”æ•°æ®åº“å­—æ®µ
2. **æ•°æ®æ ¼å¼åŒ–**: ç»Ÿä¸€çš„æ—¶é—´ã€é‡‘é¢ã€ç”¨æˆ·åæ ¼å¼åŒ–
3. **ç”¨æˆ·ä½“éªŒ**: æ›´å¥½çš„è§†è§‰æ•ˆæœå’Œæ•°æ®å±•ç¤º
4. **é”™è¯¯å¤„ç†**: å®Œå–„çš„æ•°æ®åŠ è½½é”™è¯¯å¤„ç†
5. **å“åº”å¼è®¾è®¡**: è¡¨æ ¼åˆ—å®½è‡ªé€‚åº”å’Œæ–‡æœ¬æº¢å‡ºå¤„ç†

### âœ… æ–°å¢åŠŸèƒ½
1. **æ™ºèƒ½æ•°æ®æ˜ å°„**: è‡ªåŠ¨å¤„ç†ç¼ºå¤±å­—æ®µ
2. **æ ¼å¼åŒ–æ˜¾ç¤º**: é‡‘é¢ã€æ—¶é—´ã€ç”¨æˆ·åçš„ä¸“ä¸šæ ¼å¼åŒ–
3. **é”™è¯¯å®¹é”™**: æ•°æ®å¼‚å¸¸æ—¶çš„å‹å¥½æ˜¾ç¤º
4. **è§†è§‰ä¼˜åŒ–**: æ›´æ¸…æ™°çš„æ•°æ®å±‚æ¬¡å’Œè§†è§‰æ•ˆæœ

ç°åœ¨æ‚¨çš„æ´»åŠ¨ç®¡ç†é¡µé¢å®Œå…¨å¯¹åº”æ•°æ®åº“å­—æ®µç»“æ„ï¼Œæ•°æ®æ˜¾ç¤ºå‡†ç¡®ï¼Œæ ¼å¼åŒ–ä¸“ä¸šï¼Œç”¨æˆ·ä½“éªŒå¤§å¤§æå‡ï¼
